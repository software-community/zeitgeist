{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Schedule | Zeitgeist</title>
	<link rel="icon" type="image/png" href="{% static 'main_page/img/logo/favicon.png' %}" />
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700,900" rel="stylesheet" />
	<link type="text/css" rel="stylesheet" href="{% static 'main_page/bootstrap/bootstrap.min.css' %}" />
	<link type="text/css" rel="stylesheet" href="{% static 'main_page/css/owl.carousel.css' %}" />
	<link type="text/css" rel="stylesheet" href="{% static 'main_page/css/owl.theme.default.css' %}" />
	<link rel="stylesheet" href="{% static 'main_page/css/font-awesome.min.css' %}" />
	<link type="text/css" rel="stylesheet" href="{% static 'main_page/css/style.css' %}?v=2.2" />

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-53B777HXCF"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'G-53B777HXCF');
	</script>
	<style>
		@font-face {
			font-family: 'Canterbury';
			src: url("{% static 'main_page/fonts/Canterbury.ttf' %}");
		}
		@font-face {
			font-family: 'segment14';
			src: url("{% static 'main_page/fonts/segment14.otf' %}");
		}
		body{
			cursor: url("{% static 'main_page/img/cursor/mouse.png' %}"), default;
		}
		a{
			cursor: url("{% static 'main_page/img/cursor/pointer.png' %}"), pointer;
		}
		.head{
			background-color: rgba(0,0,0,0.3);
			display: block;
			padding: 10px;
			position: fixed;
			top:0;
			width:100%;
			backdrop-filter: blur(5px);
			z-index: 100;
		}
		.logo-img{
			width:50%;
			max-width:150px;
			margin:auto;
			display: block;
		}

		.date-wrap{
			margin:  auto;
			margin-top:100px;
			background-color: rgba(255,255,255,0.1);
			width: 100%;
			max-width: 600px;
			font-family: 'Canterbury';
			z-index: 10;
		}

		.date-wrap .date-cont{
			text-align: center;
			font-size: 40px;
			z-index: 10;
		}

		.date-wrap .date{
			width: 100%;
			color:white;
			padding:5px;
			transition: 0.1s ease-in-out;
			z-index: 10;
			line-height: 40px;
			height:100%;
		}

		.date-wrap .date.active{
			background-color: white;
			color:black;
			z-index: 10;
		}

		.date-wrap .date-link{
			cursor: url("{% static 'main_page/img/cursor/pointer.png' %}"), pointer;
			z-index: 10;
		}

		.date-wrap .date-link:hover .date:not(.active){
			background-color: rgba(255,255,255,0.2);
			z-index: 10;
		}

		.ongoing{
			font-family: 'Poppins';
			font-size: 14px;
			display: block;
		}

		.schedule-box-wrap{
			width: 100%;
			max-width: 800px;
			margin:auto;
			font-size: 0;
			z-index: 10;
			/* border: 2px solid red; */
		}

		.schedule-box{
			width: 100%;
			overflow: hidden;
			transition: 0.4s ease-in-out;
			/* border:2px solid red; */
			display: inline-block;
			vertical-align: top;
			z-index: 10;
		}

		.schedule-wrap{
			width: 100vw;
			max-width: 800px;
			margin:auto;
			margin-top: 40px;
			overflow: hidden;
			display: block;
			z-index: 10;
		}

		#date1-sch,#date2-sch{
			width:0;
			z-index: 10;
		}

		.event-sch{
			width:100%;
			/* display: block; */
			/* background-color: rgba(255,255,255,0.4); */
			position: relative;
			padding:0;
			margin:10px auto;
			z-index: 10;
			overflow:hidden;
		}

		.event-left{
			width:170px;
			height: 170px;
			position: relative;
			z-index: 10;
			font-family: 'segment14';
		}

		.event-time{
			width:170px;
			height: 170px;
			background-color: rgba(255,255,255,0.1);
			padding:15px 5px;
			position: absolute;
			top:0;
			left:0;
			text-align: center;
			z-index: 51;
		}

		.hour{
			font-size:70px;
			color:#cae7df;
			/* border: 2px solid red; */
			transition: 0.8s ease-in-out;
			z-index: 10;
		}

		.min{
			font-size: 20px;
			z-index: 10;
			color:#e56b1f;
			/* border: 2px solid red; */

		}

		.img-overlay{
			display:block;
			width:170px;
			height: 170px;
			background-color: rgb(7,34,34);
			position: absolute;
			top:0;
			left:0;
			z-index: 50;
			transition: 0.8s ease-in-out;
		}

		.event-img{
			width:170px;
			height: 170px;
			position: absolute;
			top:0;
			left:0;
			transition: 0.3s ease-in-out;
			z-index: 49;
		}

		.event-sch:hover .event-img{
			transform: translate(170px);
		}

		.event-right{
			/* position:absolute; */
			top:0;
			/* left:200px; */
			transition: 0.3s ease-in-out;
			z-index: 10;
			/* border:2px solid red; */
		}

		.event-sch:hover .event-right{
			transform: translate(170px);
		}
		.event-sch:hover .event-name{
			opacity:0.5;
		}
		.event-sch:hover .event-det{
			opacity:0.5;
		}
		.event-sch:hover .but-wrap i{
			color:#cae7df9a;
		}

		.event-running{
			border: 1px solid rgba(255,255,255,0.4);
			animation-name: blinking;
			animation-iteration-count: infinite;
			animation-duration: 2s;
			-webkit-transition: all 0.9s ease;
			-moz-transition: all 0.9s ease;
			-o-transition: all 0.9s ease;
			transition: all 0.9s ease;
			animation-direction: alternate;
		}

		@keyframes blinking {
			0%{
				background-color: rgba(255,255,255,0);
			}
			100%{
				background-color: rgba(255,255,255,0.2);

			}
		}

		.event-name{
			font-size: 30px;
			font-weight: 700;
			color:white;
			margin-top: 10px;
			z-index: 10;
			transition: 0.4s ease-in-out;
		}
		.event-det{
			font-size: 16px;
			color:rgba(255,255,255,0.8);
			margin-top: 10px;
			z-index: 10;
			transition: 0.4s ease-in-out;
		}

		.but-wrap{
			z-index: 100;
			display: block;
			width:40px;
			z-index: 10;
			
			font-size: 20px;
			padding: 5px;

		}
		.but-wrap i{
			cursor: url("{% static 'main_page/img/cursor/pointer.png' %}"), pointer;
			color:#cae7df52;
			z-index: 10;
			transition: 0.4s ease-in-out;
		}

		.sch-link{
			text-decoration: none;
		}

		@media screen and (max-width:700px){
			.event-left, .event-img, .event-time, .img-overlay{
				width:80px;
				height: 80px;
			}
			.event-right{
				left:90px;
			}
			.hour{
				font-size: 22px;
			}
			.min{
				font-size: 14px;
			}
			.event-name{
				font-size: 18px;
				margin-top: 5px;
			}
			.event-det{
				font-size: 14px;
				margin-top:0;
			}
			.event-sch:hover .event-img{
				transform: translate(80px);
			}

			.event-sch:hover .event-right{
				transform: translate(80px);
			}
			.event-time{
				padding:15px 1px;
			}
		}
	</style>
	<style>
		.back1{
			position: fixed;
			width:300px;
			opacity: 0.6;
			right: 50px;
			bottom: -40px;
			animation-duration: 15s;
			animation-fill-mode: forwards;
			animation-iteration-count: infinite;
			animation-name: mover;
			animation-timing-function: ease-in-out;
		}
		@keyframes mover {
			0% {
				transform: translateY(0) rotateZ(0);
			}
			50%{
					transform: translateY(30px) rotateZ(5deg);
				}
			100% {
				transform: translateY(0) rotateZ(0);
			}
		}
		@media screen and (max-width:700px){
			.back1{
				width:150px;
				opacity: 0.6;
				right: 10px;
				bottom: -20px;
			}
		}

		#my-canvas{
			position: fixed;
			width:100%;
			height:100%;
			display:block;
			top:0;
			left:0;
			z-index: 1;
		}
	</style>
</head>

<body style="background-color:rgb(7,34,34); transition: 0.8s ease-in-out">
	<canvas id="my-canvas"></canvas>
	<img class="back1" src="{% static 'main_page/img/swords.png' %}">
	<div class="head">
		<a href="{% url 'main_page_home' %}">
			<img class="logo-img" src="{% static 'main_page/img/logo/logo_full.png' %}" alt="logo" />
		</a>
	</div>

	<div class="date-wrap">
		<div class="date-cont">
			<div class="row" style="margin:0">
				<div class="col-4 date-link" style="padding:0">
					<div class="date" id="date1" >
						23
						{% if run1 %}
						<font class="ongoing">{{run1}} ongoing</font>
						{% endif %}
					</div>
				</div>
				<div class="col-4 date-link"  style="padding:0">
					<div class="date" id="date2">
						24
						{% if run2 %}
						<font class="ongoing">{{run2}} ongoing</font>
						{% endif %}
					</div>
				</div>
				<div class="col-4 date-link"  style="padding:0">
					<div class="date active" id="date3">
						25
						{% if run3 %}
						<font class="ongoing">{{run3}} ongoing</font>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="schedule-box-wrap">
		<div class="schedule-box"  id="date1-sch">
			<div class="schedule-wrap">
				{% for event in date1 %}
					{% if event.run %}
					<div class="row event-sch event-running">
					{% else %}
					<div class="row event-sch">
					{% endif %}
						<div class="event-left col-1 align-self-center">
							<div class="event-img-wrap">
								<img src="{% static 'main_page/img/schedule/'|add:event.img %}" class="event-img">
							</div>
							<div class="img-overlay">
								
							</div>
							<div class="event-time">
								<font class="hour">
								{{event.hr}}
								</font>
								<font class="min">
									<br>-{{event.min}}
								</font>
							</div>
						</div>
						<div class="event-right col">
							{% if event.link %}
							<a class="sch-link" href="{{event.link}}" target="_blank">
							{% endif %}
							<div class="event-name">
								{{event.name}}
							</div>
							<div class="event-det">
								{{event.det}}
							</div>
							{% if event.link %}
							</a>
							{% endif %}
						</div>
						<div class="but-wrap col-3">
							{% if event.rulebook != "" %}
								<a href="{{event.rulebook}}" target="_blank"><i class="fa fa-file" aria-hidden="true"></i></a>
							{% endif %}
							{% if event.link %}
								<a href="{{event.link}}" target="_blank"><i class="fa fa-mouse-pointer" aria-hidden="true"></i></a>
							{% endif %}	
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
		<div class="schedule-box"  id="date2-sch">
			<div class="schedule-wrap">
				{% for event in date2 %}
					{% if event.run %}
					<div class="row event-sch event-running">
					{% else %}
					<div class="row event-sch">
					{% endif %}
						<div class="event-left col-1 align-self-center">
							<div class="event-img-wrap">
								<img src="{% static 'main_page/img/schedule/'|add:event.img %}" class="event-img">
							</div>
							<div class="img-overlay">
								
							</div>
							<div class="event-time">
								<font class="hour">
								{{event.hr}}
								</font>
								<font class="min">
									<br>-{{event.min}}
								</font>
							</div>
						</div>
						<div class="event-right col">
							{% if event.link %}
							<a class="sch-link" href="{{event.link}}" target="_blank">
							{% endif %}
							<div class="event-name">
								{{event.name}}
							</div>
							<div class="event-det">
								{{event.det}}
							</div>
							{% if event.link %}
							</a>
							{% endif %}
						</div>
						<div class="but-wrap col-3">
							{% if event.rulebook != "" %}
								<a href="{{event.rulebook}}" target="_blank"><i class="fa fa-file" aria-hidden="true"></i></a>
							{% endif %}
							{% if event.link %}
								<a href="{{event.link}}" target="_blank"><i class="fa fa-mouse-pointer" aria-hidden="true"></i></a>
							{% endif %}	
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
		<div class="schedule-box"  id="date3-sch">
			<div class="schedule-wrap">
				{% for event in date3 %}
					{% if event.run %}
					<div class="row event-sch event-running">
					{% else %}
					<div class="row event-sch">
					{% endif %}
						<div class="event-left col-1 align-self-center">
							<div class="event-img-wrap">
								<img src="{% static 'main_page/img/schedule/'|add:event.img %}" class="event-img">
							</div>
							<div class="img-overlay">
								
							</div>
							<div class="event-time">
								<font class="hour">
								{{event.hr}}
								</font>
								<font class="min">
									<br>-{{event.min}}
								</font>
							</div>
						</div>
						<div class="event-right col">
							{% if event.link %}
							<a class="sch-link" href="{{event.link}}" target="_blank">
							{% endif %}
							<div class="event-name">
								{{event.name}}
							</div>
							<div class="event-det">
								{{event.det}}
							</div>
							{% if event.link %}
							</a>
							{% endif %}
						</div>
						<div class="but-wrap col-3">
							{% if event.rulebook != "" %}
								<a href="{{event.rulebook}}" target="_blank"><i class="fa fa-file" aria-hidden="true"></i></a>
							{% endif %}
							{% if event.link %}
								<a href="{{event.link}}" target="_blank"><i class="fa fa-mouse-pointer" aria-hidden="true"></i></a>
							{% endif %}	
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>

	<noscript id="tsNoJsMsg">Javascript on your browser is not enabled.</noscript>
	<script src="https://www.townscript.com/popup-widget/townscript-widget.nocache.js" type="text/javascript"></script>
	<script src="{% static 'main_page/js/jquery.min.js' %}"></script>
	<script src="{% static 'main_page/bootstrap/bootstrap.min.js' %}"></script>
	<script src="{% static 'main_page/js/jquery.waypoints.min.js' %}"></script>
	<script src="{% static 'main_page/js/owl.carousel.min.js' %}"></script>
	<script src="{% static 'main_page/js/jquery.stellar.min.js' %}"></script>
	<script src="{% static 'main_page/js/jquery.countTo.js' %}"></script>
	<script src="{% static 'main_page/js/main.js' %}"></script>
	<audio id='mySound' src='{% static "main_page/sound/hover.mp3" %}'>

	<script>
		cur_color=['rgb(7,34,34)','#CAE7DF']
		colors=[['rgb(0,0,0)','rgb(200,200,200)'],['rgb(73,91,51)','rgb(216,226,203)'],['rgb(47,22,78)','rgb(211,190,237)']]
		// colors=[['rgb(6,55,4)','rgb(198,250,194)']]
		$('.date').click(function(){
			color = colors[Math.floor(Math.random() * colors.length)];
			colors.push(cur_color)
			colors = colors.filter(function(e){
				if (e==color)
					return false
				else
					return true
			})
			cur_color = color
			$('.date').removeClass('active');
			$(this).addClass('active');
			$(".schedule-box").css("width","0px");
			$("#"+$(this).attr('id')+"-sch").css("width","100%");

			$('body').css('background-color',color[0])
			$('.img-overlay').css('background-color',color[0])
			$('.hour').css('color',color[1])
		})
		function PlaySound(soundobj) {
    var thissound=document.getElementById(soundobj);
    thissound.play();
}
	$('.date-link').each(function(){
		$(this).click(function(){
			PlaySound('mySound');
		})
	})
	</script>
	<script>
		circles = [];
		circles2 = [];
		mouseX = screen.width/2;
		mouseY = screen.height/2;
		touch=false;

		function is_touch_device() {  
			try {  
				document.createEvent("TouchEvent");  
				touch=true;
			} catch (e) {  
				touch=false;
			}  
		}
		is_touch_device();

		function init () {
				for (var i=0 ; i<20 ; i++){
					circles.push({'left':Math.random() * screen.width, 'top':Math.random() * screen.height, 'r':Math.random()*30, 'max':Math.random()*30+10, 'o':1})
				}
				for (var i=0 ; i<40 ; i++){
					circles2.push({'left':Math.random() * screen.width, 'top':Math.random() * screen.height, 'r':Math.random()*70, 'max':Math.random()*70+50, 'o':1})
				}
		}
		init();

		window.addEventListener("mousemove", updatemouse);

		function updatemouse(e){
			mouseX = e.clientX;
			mouseY = e.clientY;
		}

		function draw(){
			for (var i=0 ; i<circles.length ; i++){
				if (circles[i]['r']>circles[i]['max']){
					circles[i]['r']=0;
					if (touch==true){
						circles[i]['top']=mouseY+Math.random()*1000-500;
						circles[i]['left']=mouseX+Math.random()*1000-500;
					}
					else{
						circles[i]['top']=mouseY+Math.random()*200-100;
						circles[i]['left']=mouseX+Math.random()*200-100;
					}
				}
				else{
					circles[i]['r']+=0.3;
					circles[i]['o']=1-circles[i]['r']/(circles[i]['max']+1);
				}
			}
			for (var i=0 ; i<circles2.length ; i++){
				if (circles2[i]['r']<1){
					circles2[i]['r']=circles2[i]['max'];
					circles2[i]['o']=0;
					circles2[i]['top']=Math.random()*screen.height;
					circles2[i]['left']=Math.random()*screen.width;
				}
				else{
					circles2[i]['r']-=1;
					circles2[i]['o']=1-circles2[i]['r']/(circles2[i]['max']+0.1);
				}
			}
			var canvas  = document.getElementById('my-canvas');
			canvas.width = document.getElementById('my-canvas').offsetWidth;
			canvas.height = document.getElementById('my-canvas').offsetHeight;
			var ctx = canvas.getContext('2d');
						
			for (var i=0 ; i<circles.length ; i++){
				ctx.globalAlpha=circles[i]['o'];
				ctx.beginPath();
				ctx.arc(circles[i]['left'], circles[i]['top'], circles[i]['r'], 0, 2 * Math.PI, false);
				ctx.fillStyle = 'rgba(220,220,220,0.4)';
				ctx.fill();
				ctx.lineWidth = 0;
				ctx.strokeStyle = 'rgba(220,220,220,0.5)';
				ctx.stroke();
			}
			for (var i=0 ; i<circles2.length ; i++){
				ctx.globalAlpha=circles2[i]['o'];
				ctx.beginPath();
				ctx.arc(circles2[i]['left'], circles2[i]['top'], circles2[i]['r'], 0, 2 * Math.PI, false);
				ctx.fillStyle = 'rgba(220,220,220,0.05)';
				ctx.fill();
				ctx.lineWidth = 0;
				ctx.strokeStyle = 'rgba(220,220,220,0.05)';
				ctx.stroke();
			}
			window.requestAnimationFrame(draw);
		}
		window.requestAnimationFrame(draw);

	</script>
</body>

</html>